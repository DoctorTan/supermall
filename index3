# æ··åˆä»£ç†ç«¯å£ http(s)+socks
# mixed-port: 7890
# allow-lan: true   #å…è®¸å±€åŸŸç½‘è¿æ¥
bind-address: "*"
mode: rule
geodata-mode: true
log-level: info
ipv6: false
socks-port: 1080
# å…¶ä»–éƒ¨åˆ†åˆ«åŠ¨ï¼Œåªéœ€æ ¹æ®è‡ªå·±è¿è¥å•†ä¿®æ”¹ç™¾åº¦IP
# DNSé…ç½®
dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:1053
  enhanced-mode: fake-ip
  fake-ip-range: 28.0.0.1/8
  default-nameserver:
    - https://223.6.6.6/dns-query
    - https://1.1.1.1/dns-query
  nameserver:
    - https://223.6.6.6/dns-query
    - https://1.1.1.1/dns-query

# æœºåœºè®¢é˜…åœ°å€
proxy-providers:
  # æœº1:
  #   type: http
  #  # ä»…ä»…éœ€è¦æ”¹urlæ›¿æ¢æˆä½ çš„è®¢é˜…åœ°å€,å…¶ä»–ä¸è¦æ”¹
  #   url: https://isski-jc.yydsig.buzz/api/v1/client/subscribe?token=64312aba8cfbaa38db51f526ad2a2ee8
  #   interval: 14400
  #   path: ./provider202.yaml
  #   health-check:
  #     enable: true
  #     interval: 7200
  #     url: http://www.gstatic.com/generate_204
  # æœº2:
  #   type: http
  #  # ä»…ä»…éœ€è¦æ”¹urlæ›¿æ¢æˆä½ çš„è®¢é˜…åœ°å€,å…¶ä»–ä¸è¦æ”¹
  #   url: https://dy.tgmini.top/api/v1/client/subscribe?token=3e6c269d087a28e7591639349dd16515
  #   interval: 14400
  #   path: ./provider202.yaml
  #   health-check:
  #     enable: true
  #     interval: 7200
  #     url: http://www.gstatic.com/generate_204
 

# ç™¾åº¦é…ç½®æ–‡ä»¶
baidu: &baidu
  type: http
  port: 443
  headers:
    Host: "sptest.baidu.com"
    X-T5-Auth: "482857715"
    User-Agent: "okhttp/3.11.0 Dalvik/2.1.0 (Linux; U; Android 11; Build/RP1A.200720.011) baiduboxapp/13.10.0.10 (Baidu; P1 11)"


proxies:
# è§£æåœ°å€ https://site.ip138.com/cloudnproxy.n.shifen.com/
  - name: "ğŸ˜Šå¹¿å·ç”µä¿¡"
    server: 14.215.182.75
    <<: *baidu

  - name: "ğŸ˜Šå—äº¬ç”µä¿¡1"
    server: 180.101.50.208
    <<: *baidu
    
  - name: "ğŸ˜Šå—äº¬ç”µä¿¡2"
    server: 180.101.50.249
    <<: *baidu

  - name: "ğŸ˜ŠåŒ—äº¬ç”µä¿¡"
    server: 220.181.111.189
    <<: *baidu
    
  - name: "ğŸ˜Šè‹å·ç”µä¿¡"
    server: 180.97.93.202
    <<: *baidu

  - name: "ğŸ˜Šæ²³åŒ—è”é€š"
    server: 110.242.70.69
    <<: *baidu
    
  - name: "ğŸ˜Šè‹å·è”é€š"
    server: 157.0.148.53
    <<: *baidu

  - name: "ğŸ˜Šå—äº¬è”é€š"
    server: 153.3.237.117
    <<: *baidu
 

  # - name: ğŸ‡ºğŸ‡¸æ´›æ‰çŸ¶(æ˜å¹´8æœˆ)
  #   type: hysteria2
  #   server: 142.171.45.251
  #   port: 4333
  #   sni: tanx.space
  #   skip-cert-verify: true
  #   password: 1234567
  #   up: "30 Mbps" # è‹¥ä¸å†™å•ä½ï¼Œé»˜è®¤ä¸º Mbps
  #   down: "200 Mbps" # è‹¥ä¸å†™å•ä½ï¼Œé»˜è®¤ä¸º Mbps
  - name: æ´›æ‰çŸ¶hysteria2
    type: hysteria2
    server: 142.171.45.251
    port: 8443
    #  upå’Œdownå‡ä¸å†™æˆ–ä¸º0åˆ™ä½¿ç”¨BBRæµæ§
    # up: "30 Mbps" # è‹¥ä¸å†™å•ä½ï¼Œé»˜è®¤ä¸º Mbps
    # down: "200 Mbps" # è‹¥ä¸å†™å•ä½ï¼Œé»˜è®¤ä¸º Mbps
    password: b7f43c8b717c6bd9
    sni: bing.com
    skip-cert-verify: true
    alpn:
      - h3
  - name: æ´›æ‰çŸ¶Vmess
    type: vmess
    server: speed.cloudflare.com
    port: 443
    uuid: b0ee4546-912a-413b-ae8a-05520e0484f3
    alterId: 0
    cipher: auto
    udp: true
    tls: true
    client-fingerprint: chrome  
    skip-cert-verify: true
    servername: arrive-blake-leu-liberal.trycloudflare.com
    network: ws
    ws-opts:
      path: 5223a88dfe09
      headers:
        Host: arrive-blake-leu-liberal.trycloudflare.com


  - name:  ğŸ‡ºğŸ‡³è‡ªåŠ¨ä¼˜é€‰                           #å¯è‡ªå®šä¹‰åç§°
    type: vless
    server: japan.com                          #è§£æçš„åŸŸåæˆ–è€…ä¼˜é€‰åŸŸåIP
    port: 2096                                      #è‡ªå®šä¹‰çš„ç«¯å£
    uuid: 8035bc9e-5a5e-4523-b4d8-5a5111a98359       #è‡ªå®šä¹‰çš„uuid
    udp: true
    tls: true
    network: ws
    servername: cf.oortaka.top                     #sniåŸŸåï¼Œä¸ä¸‹é¢çš„hostä¸€è‡´
    ws-opts:
      path: "/?ed=2048"                              #" "å†…è‡ªå®šä¹‰çš„pathè·¯å¾„
      headers:
        Host: cf.oortaka.top                       #hoståŸŸåï¼Œä¸ä¸Šé¢çš„servernameä¸€è‡´
 

  #==============================ï¼ˆvless-reality-grpcèŠ‚ç‚¹ï¼‰
 

                  #hoståŸŸåï¼Œä¸ä¸Šé¢çš„servernameä¸€è‡´
 
 

                     #hoståŸŸåï¼Œä¸ä¸Šé¢çš„servernameä¸€è‡´

                     #hoståŸŸåï¼Œä¸ä¸Šé¢çš„servernameä¸€è‡´
  - {name: éŸ©å›½cf1, server: 162.159.192.0, port: 443, client-fingerprint: randomized, type: vless, uuid: 23802024-2482-4279-94c9-f29b0dacd07b, tls: true, tfo: false, skip-cert-verify: false, servername: youxuan.tanspace.top, network: ws, ws-opts: {path: "/?ed=2048", headers: {Host: youxuan.tanspace.top}}}
 
  - {name: è¿ªæ‹œcf, server: 139.185.34.131, port: 443, client-fingerprint: randomized, type: vless, uuid: 23802024-2482-4279-94c9-f29b0dacd07b, tls: true, tfo: false, skip-cert-verify: false, servername: youxuan.tanspace.top, network: ws, ws-opts: {path: "/?ed=2048", headers: {Host: youxuan.tanspace.top}}}
  
 
  
################################################################
  - {name: sb, server: ip.sb, port: 80, client-fingerprint: randomized, type: vless, uuid: d0a9277f-4a23-44e2-84a0-a0d0149ca03f, tls: false, tfo: false, skip-cert-verify: false, network: ws, ws-opts: {path: "/?ed=2048", headers: {Host: bestselect1.438749168.workers.dev}}}
  - {name: glassdoor, server: www.glassdoor.com, port: 80, client-fingerprint: randomized, type: vless, uuid: d0a9277f-4a23-44e2-84a0-a0d0149ca03f, tls: false, tfo: false, skip-cert-verify: false, network: ws, ws-opts: {path: "/?ed=2048", headers: {Host: bestselect1.438749168.workers.dev}}}
  - {name: whoer, server: www.whoer.net, port: 80, client-fingerprint: randomized, type: vless, uuid: d0a9277f-4a23-44e2-84a0-a0d0149ca03f, tls: false, tfo: false, skip-cert-verify: false, network: ws, ws-opts: {path: "/?ed=2048", headers: {Host: bestselect1.438749168.workers.dev}}}
  - {name: visahk, server: www.visa.com.hk, port: 80, client-fingerprint: randomized, type: vless, uuid: d0a9277f-4a23-44e2-84a0-a0d0149ca03f, tls: false, tfo: false, skip-cert-verify: false, network: ws, ws-opts: {path: "/?ed=2048", headers: {Host: bestselect1.438749168.workers.dev}}}
  - {name: icookhk, server: icook.hk, port: 80, client-fingerprint: randomized, type: vless, uuid: d0a9277f-4a23-44e2-84a0-a0d0149ca03f, tls: false, tfo: false, skip-cert-verify: false, network: ws, ws-opts: {path: "/?ed=2048", headers: {Host: bestselect1.438749168.workers.dev}}}
  - {name: singapore, server: singapore.com, port: 80, client-fingerprint: randomized, type: vless, uuid: d0a9277f-4a23-44e2-84a0-a0d0149ca03f, tls: false, tfo: false, skip-cert-verify: false, network: ws, ws-opts: {path: "/?ed=2048", headers: {Host: bestselect1.438749168.workers.dev}}}
  - {name: malaysia, server: malaysia.com, port: 80, client-fingerprint: randomized, type: vless, uuid: d0a9277f-4a23-44e2-84a0-a0d0149ca03f, tls: false, tfo: false, skip-cert-verify: false, network: ws, ws-opts: {path: "/?ed=2048", headers: {Host: bestselect1.438749168.workers.dev}}}
  - {name: shopify, server: www.shopify.com, port: 80, client-fingerprint: randomized, type: vless, uuid: d0a9277f-4a23-44e2-84a0-a0d0149ca03f, tls: false, tfo: false, skip-cert-verify: false, network: ws, ws-opts: {path: "/?ed=2048", headers: {Host: bestselect1.438749168.workers.dev}}}
  - {name: udemy, server: www.udemy.com, port: 80, client-fingerprint: randomized, type: vless, uuid: d0a9277f-4a23-44e2-84a0-a0d0149ca03f, tls: false, tfo: false, skip-cert-verify: false, network: ws, ws-opts: {path: "/?ed=2048", headers: {Host: bestselect1.438749168.workers.dev}}}
  
  - {name: é¦™æ¸¯, server: visa.com, port: 80, client-fingerprint: chrome, type: vmess, uuid: 61b81abc-320b-49c1-893c-f3ddd45880de, alterId: 0, cipher: auto, tls: false, tfo: false, skip-cert-verify: false, network: ws, ws-opts: {path: /, headers: {Host: hkipv6.xlb8.eu.org}}}
  - {name: å°æ¹¾, server: visa.com, port: 80, client-fingerprint: chrome, type: vmess, uuid: 61b81abc-320b-49c1-893c-f3ddd45880de, alterId: 0, cipher: auto, tls: false, tfo: false, skip-cert-verify: false, network: ws, ws-opts: {path: /, headers: {Host: tw.xlb8.eu.org}}}
  - {name: æµé‡1, server: visa.com, port: 80, type: vmess, uuid: df28c5eb-4b45-4755-8edd-fbb3894db392, alterId: 0, cipher: auto, tls: false, network: ws, ws-opts: {path: /df28c5eb, headers: {Host: a.bisaeksporbatam.eu.org}}}
  - {name: æµé‡2, server: 3-gy.top, port: 443, client-fingerprint: chrome, type: vmess, uuid: df28c5eb-4b45-4755-8edd-fbb3894db392, alterId: 0, cipher: auto, tls: true, tfo: false, skip-cert-verify: false, servername: a.bisaeksporbatam.eu.org, network: ws, ws-opts: {path: /df28c5eb, headers: {Host: a.bisaeksporbatam.eu.org}}}
  - {name: æµé‡3, server: www.shopify.com, port: 80, client-fingerprint: chrome, type: vmess, uuid: df28c5eb-4b45-4755-8edd-fbb3894db392, alterId: 0, cipher: auto, tls: false, tfo: false, skip-cert-verify: false, network: ws, ws-opts: {path: /df28c5eb, headers: {Host: a.bisaeksporbatam.eu.org}}}
  - {name: è‹±å›½, server: visa.com, port: 80, client-fingerprint: chrome, type: vmess, uuid: 61b81abc-320b-49c1-893c-f3ddd45880de, alterId: 0, cipher: auto, tls: false, tfo: false, skip-cert-verify: false, network: ws, ws-opts: {path: /, headers: {Host: uk.xlb8.eu.org}}}
proxy-groups:
#æ·»åŠ ä»£ç†ç­–ç•¥ç»„

# èŠ‚ç‚¹ç¾¤ç»„ï¼ŒèŠ‚ç‚¹å’Œè®¢é˜…çš„åç§°é…ç½®åˆ°ä¸‹é¢
  - name: å›½å¤–
    type: select
    proxies:
      ['shopify','visahk','udemy','malaysia','singapore','icookhk','glassdoor','whoer','é¦™æ¸¯','å°æ¹¾','è‹±å›½','sb', 'éŸ©å›½cf1','è¿ªæ‹œcf','ğŸ‡ºğŸ‡³è‡ªåŠ¨ä¼˜é€‰','æ´›æ‰çŸ¶hysteria2','æµé‡1','æµé‡2','æµé‡3',]
    
    use:   
      # - æœº1
      # - æœº2
      
# å¦‚æœæƒ³ğŸš€è‡ªåŠ¨é€‰æ‹©å°±æŠŠurl-testæ”¹ä¸ºselect   
     
      

# å¤šä¹…æµ‹è¯•ä¸€æ¬¡æœ€å¿«çš„èŠ‚ç‚¹,å•ä½ä¸ºç§’,ä¸æƒ³é¢‘ç¹æ¢ipå°±æŠŠä¸‹é¢çš„åˆ æ‰
    interval: 3000
  - name: å›½å†…
    type: select 
    proxies:
      - DIRECT
      - ğŸ˜Šå¹¿å·ç”µä¿¡
      - ğŸ˜Šå—äº¬ç”µä¿¡1
      - ğŸ˜Šå—äº¬ç”µä¿¡2
      - ğŸ˜Šå—äº¬è”é€š
      - ğŸ˜Šè‹å·ç”µä¿¡
      - ğŸ˜Šè‹å·è”é€š
      - ğŸ˜Šæ²³åŒ—è”é€š
      - ğŸ˜ŠåŒ—äº¬ç”µä¿¡

  - name: bç«™
    type: select 
    proxies:
      ['å›½å†…','å›½å¤–','æ´›æ‰çŸ¶hysteria2','shopify','visahk','udemy','malaysia','singapore','icookhk','æ´›æ‰çŸ¶hysteria2','æµé‡1','æµé‡2','æµé‡3','glassdoor','whoer','é¦™æ¸¯','å°æ¹¾','è‹±å›½','sb', 'éŸ©å›½cf1','è¿ªæ‹œcf','ğŸ‡ºğŸ‡³è‡ªåŠ¨ä¼˜é€‰']
 
  - name: openAi
    type: select 
    proxies:
      ['æ´›æ‰çŸ¶hysteria2','å›½å¤–','shopify','visahk','udemy','malaysia','singapore','icookhk','æ´›æ‰çŸ¶hysteria2','æµé‡1','æµé‡2','æµé‡3','glassdoor','whoer','é¦™æ¸¯','å°æ¹¾','è‹±å›½','sb', 'éŸ©å›½cf1','è¿ªæ‹œcf','ğŸ‡ºğŸ‡³è‡ªåŠ¨ä¼˜é€‰']
 
 

  - name: æ²¹ç®¡
    type: select 
    proxies:
       ['å›½å¤–','æ´›æ‰çŸ¶hysteria2', 'shopify','visahk','udemy','malaysia','singapore','icookhk','æ´›æ‰çŸ¶hysteria2','æµé‡1','æµé‡2','æµé‡3','glassdoor','whoer','é¦™æ¸¯','å°æ¹¾','è‹±å›½','sb', 'éŸ©å›½cf1','è¿ªæ‹œcf','ğŸ‡ºğŸ‡³è‡ªåŠ¨ä¼˜é€‰']
  
    use:   
      # - æœº1    
 
 
 
  - name: tg
    type: select     
    proxies:
       ['å›½å¤–','æ´›æ‰çŸ¶hysteria2' ,'shopify','visahk','udemy','malaysia','singapore','icookhk','æ´›æ‰çŸ¶hysteria2','æµé‡1','æµé‡2','æµé‡3','glassdoor','whoer','é¦™æ¸¯','å°æ¹¾','è‹±å›½','sb', 'éŸ©å›½cf1','è¿ªæ‹œcf','ğŸ‡ºğŸ‡³è‡ªåŠ¨ä¼˜é€‰']
    use:   
      # - æœº1
  # - name: pikpak
  #   type: select     
  #   proxies:
  #      ['å›½å¤–','æ´›æ‰çŸ¶hysteria2', 'shopify','visahk','udemy','malaysia','singapore','icookhk','æ´›æ‰çŸ¶hysteria2','æµé‡1','æµé‡2','æµé‡3','glassdoor','whoer','é¦™æ¸¯','å°æ¹¾','è‹±å›½','sb', 'éŸ©å›½cf1','è¿ªæ‹œcf','ğŸ‡ºğŸ‡³è‡ªåŠ¨ä¼˜é€‰']
  #   use:   
  #     - æœº1

  # - name: "ğŸš€è‡ªåŠ¨é€‰æ‹©"
  #   type: url-test
  #   proxies:
  #      ['shopify','visahk','udemy','malaysia','singapore','icookhk','æ´›æ‰çŸ¶hysteria2','æµé‡1','æµé‡2','æµé‡3','glassdoor','whoer','é¦™æ¸¯','å°æ¹¾','è‹±å›½','sb', 'éŸ©å›½cf1','è¿ªæ‹œcf','ğŸ‡ºğŸ‡³è‡ªåŠ¨ä¼˜é€‰']
  #   use:   
  #     - æœº1
  #   url: 'https://www.gstatic.com/generate_204'
  #   interval: 300
    
 

  - name: ä¸­ç»§
    type: relay
    proxies:
      - å›½å†…
      - å›½å¤–
  # - name: è´Ÿè½½å‡è¡¡-æ•£åˆ—
  #   type: load-balance
  #   url: http://www.google.com/generate_204
  #   interval: 300
  #   strategy: consistent-hashing
  #   proxies:
  #     ['æ´›æ‰çŸ¶hysteria2','sb','visahk','glassdoor','whoer','éŸ©å›½cf1','è¿ªæ‹œcf','ğŸ‡ºğŸ‡³è‡ªåŠ¨ä¼˜é€‰']
  #   use:   
  #     - æœº1

  # - name: è´Ÿè½½å‡è¡¡-è½®è¯¢
  #   type: load-balance
  #   url: http://www.google.com/generate_204
  #   interval: 300
  #   strategy: round-robin
  #   proxies:
  #     ['æ´›æ‰çŸ¶hysteria2','sb','visahk','glassdoor','whoer','éŸ©å›½cf1','è¿ªæ‹œcf','ğŸ‡ºğŸ‡³è‡ªåŠ¨ä¼˜é€‰']
  #   use:   
  #     - æœº1

rule-providers:
  reject:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt"
    path: ./ruleset/reject.yaml
    interval: 86400

  YouTube:
    type: http
    behavior: classical
    format: yaml
    path: ./ruleset/youtube.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml"
    interval: 86400
  tg:
    type: http
    behavior: classical
    format: yaml
    path: ./ruleset/tg.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml"
    interval: 86400
 
  bl:
    type: http
    behavior: classical
    format: yaml
    path: ./ruleset/blbl.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml"
    interval: 86400
  # pikpak:
  #   type: http
  #   behavior: classical
  #   format: yaml
  #   path: ./ruleset/pp.yaml
  #   url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/PikPak/PikPak.yaml"
  #   interval: 86400

  openAi:
    type: http
    behavior: classical
    format: yaml
    path: ./ruleset/openai.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI.yaml"
    interval: 86400

  # ad:
  #   type: http
  #   behavior: classical
  #   format: yaml
  #   path: ./ruleset/ad.yaml
  #   url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AdvertisingLite/AdvertisingLite_Classical.yaml"
  #   interval: 86400

  å¤§é™†:
    type: http
    behavior: classical
    format: yaml
    path: ./ruleset/dl.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaMax/ChinaMax_Classical.yaml"
    interval: 86400

  # github:
  #   type: http
  #   behavior: classical
  #   format: yaml
  #   path: ./ruleset/github.yaml
  #   url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GitHub/GitHub.yaml"
  #   interval: 86400
 

rules:
  - DOMAIN-KEYWORD,yaohuo.me,å›½å†…
  - DOMAIN-KEYWORD,img.ink,å›½å†…
  - DOMAIN-KEYWORD,freeok.pro,å›½å†…
  # UDP è§„åˆ™ 
  - AND,((NETWORK,UDP)),REJECT
  # å¹¿å‘Šè¿‡æ»¤ 
  - RULE-SET,YouTube,æ²¹ç®¡
  - RULE-SET,tg,tg
  - RULE-SET,bl,bç«™
  - RULE-SET,bl,bç«™
  # - RULE-SET,pikpak,pikpak
  - RULE-SET,openAi,openAi
  - RULE-SET,å¤§é™†,å›½å†…
  # - RULE-SET,github,github
  
  # - RULE-SET,ad,REJECT
 
    # ç‰¹æ®ŠåŸŸåæ”¾è¡Œ

  - DOMAIN-KEYWORD,announce,DIRECT
  - DOMAIN-KEYWORD,torrent,DIRECT
  - DOMAIN-KEYWORD,tracker,DIRECT
  - DOMAIN-SUFFIX,smtp,DIRECT
  - DOMAIN-SUFFIX,local,DIRECT
  # ç›®æ ‡æœ¬åœ°åœ°å€æ”¾è¡Œ
  - IP-CIDR,192.168.0.0/16,DIRECT
  - IP-CIDR,10.0.0.0/8,DIRECT
  - IP-CIDR,172.16.0.0/12,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT
  - IP-CIDR,100.64.0.0/10,DIRECT
 
  # åˆ†æµè§„åˆ™
  # - DOMAIN-KEYWORD,google,ä¸­ç»§
  # - GEOSITE,cn,å›½å†…
 

 
  # - DOMAIN-KEYWORD,-cn,å›½å†…
    # GEOSITE å¼ºåˆ¶ç›´è¿å›½å†…æœºåœº
  - GEOSITE,category-games@cn,å›½å†… 
  # - GEOSITE,bilibili,å›½å†… 
  - GEOSITE,douyu,å›½å†… 
  - GEOSITE,huya,å›½å†… 
  - GEOSITE,tencent,å›½å†… 
  - GEOSITE,apple-cn,å›½å†… 
  - GEOSITE,ehentai,å›½å†… 
 
     # å…œåº•è§„åˆ™
  # - GEOSITE,CN,å›½å†… 
  # - GEOIP,CN,å›½å†… 
 
  - GEOIP,!CN,ä¸­ç»§  
  - MATCH,ä¸­ç»§
 
 
